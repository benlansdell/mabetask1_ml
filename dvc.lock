schema: '2.0'
stages:
  format_data:
    cmd: python3 0_basic_data_formatting.py
    deps:
    - path: 0_basic_data_formatting.py
      md5: ef61e5f74c0b3e90f7e490b3918c5465
      size: 1291
    - path: data/sample_submission.npy
      md5: 0fe3669701a51450c87275434b38a2c0
      size: 65383277
    - path: data/test.npy
      md5: 327eaa617dab4c55ebb6913e5e24ec77
      size: 1829787014
    - path: data/train.npy
      md5: eb2960c30eeed9658149fd7eb990074e
      size: 117806206
    outs:
    - path: data/intermediate/test_df.csv
      md5: 251b230ce96ea25b63b0878c34b5b13f
      size: 4302314210
    - path: data/intermediate/train_df.csv
      md5: b8c799b37e6e7b7a91f01a96a69bee13
      size: 269117803
  features_differences:
    cmd: python3 1_features_diffs.py differences
    deps:
    - path: 1_features_diffs.py
      md5: da8e72764decf383f6c9c5e5be50be1e
      size: 4111
    - path: data/intermediate/test_df.csv
      md5: 251b230ce96ea25b63b0878c34b5b13f
      size: 4302314210
    - path: data/intermediate/train_df.csv
      md5: b8c799b37e6e7b7a91f01a96a69bee13
      size: 269117803
    outs:
    - path: data/intermediate/test_features_differences.csv
      md5: 49c3c5a6079469522b99d2726fd1d7c0
      size: 20935533926
    - path: data/intermediate/test_map_features_differences.pkl
      md5: 99f222eba9d7857aeea2e12726062a4f
      size: 7088
    - path: data/intermediate/train_features_differences.csv
      md5: 5cfabebdace61da1475450b99fbbd988
      size: 1303208862
  ml_rf_differences:
    cmd: python3 2_machine_learning.py features_differences rf
    deps:
    - path: 2_machine_learning.py
      md5: 2ba0a17e75b163cf612d9443f2d70db3
      size: 4819
    - path: data/intermediate/test_features_differences.csv
      md5: 49c3c5a6079469522b99d2726fd1d7c0
      size: 20935533926
    - path: data/intermediate/test_map_features_differences.pkl
      md5: 99f222eba9d7857aeea2e12726062a4f
      size: 7088
    - path: data/intermediate/train_features_differences.csv
      md5: 5cfabebdace61da1475450b99fbbd988
      size: 1303208862
    outs:
    - path: results/submission_features_differences_ml_rf_paramset_default.npy
      md5: 83b37628fa0098d807b002c162d8fd38
      size: 253251625
  features_distances:
    cmd: python3 1_feature_engineering.py distances
    deps:
    - path: 1_feature_engineering.py
      md5: 727a42aedd65e247446628d498bd3362
      size: 4353
    - path: data/intermediate/test_df.csv
      md5: 251b230ce96ea25b63b0878c34b5b13f
      size: 4302314210
    - path: data/intermediate/train_df.csv
      md5: b8c799b37e6e7b7a91f01a96a69bee13
      size: 269117803
    outs:
    - path: data/intermediate/test_features_distances.csv
      md5: 10f172ad2cabeb9680fca8f77581a771
      size: 13637663869
    - path: data/intermediate/test_map_features_distances.pkl
      md5: 9a9bf0216be2e2f4e8a86943768dde7b
      size: 7088
    - path: data/intermediate/train_features_distances.csv
      md5: b08ddb50f3397ff55242d1ee9edbca24
      size: 847334593
  ml_rf_distances:
    cmd: python3 2_machine_learning.py features_distances rf
    deps:
    - path: 2_machine_learning.py
      md5: ca30a6d686d5d3f0cb1727fc0ec87aee
      size: 4948
    - path: data/intermediate/test_features_distances.csv
      md5: 10f172ad2cabeb9680fca8f77581a771
      size: 13637663869
    - path: data/intermediate/test_map_features_distances.pkl
      md5: 9a9bf0216be2e2f4e8a86943768dde7b
      size: 7088
    - path: data/intermediate/train_features_distances.csv
      md5: b08ddb50f3397ff55242d1ee9edbca24
      size: 847334593
    outs:
    - path: results/submission_features_distances_ml_rf_paramset_default.npy
      md5: 177f5d2153936ccd68d4e54e5f731da2
      size: 253251625
  features_distances_shifted:
    cmd: python3 1_feature_engineering.py distances_shifted
    deps:
    - path: 1_feature_engineering.py
      md5: b98c17f546aa6186edd1819f4cf729ac
      size: 5148
    - path: data/intermediate/test_df.csv
      md5: 251b230ce96ea25b63b0878c34b5b13f
      size: 4302314210
    - path: data/intermediate/train_df.csv
      md5: b8c799b37e6e7b7a91f01a96a69bee13
      size: 269117803
    outs:
    - path: data/intermediate/test_features_distances_shifted.csv
      md5: bf7741bda474d11f5bc79392b2be9383
      size: 69918695064
    - path: data/intermediate/test_map_features_distances_shifted.pkl
      md5: 6849d23f902759e0849c3da0dee42b8b
      size: 7088
    - path: data/intermediate/train_features_distances_shifted.csv
      md5: 7103a2fa1d9b1285a9eb1c4c398209ee
      size: 4345156728
  ml_rf_distances_shifted:
    cmd: python3 2_machine_learning.py features_distances_shifted rf
    deps:
    - path: 2_machine_learning.py
      md5: ca30a6d686d5d3f0cb1727fc0ec87aee
      size: 4948
    - path: data/intermediate/test_features_distances_shifted.csv
      md5: bf7741bda474d11f5bc79392b2be9383
      size: 69918695064
    - path: data/intermediate/test_map_features_distances_shifted.pkl
      md5: 6849d23f902759e0849c3da0dee42b8b
      size: 7088
    - path: data/intermediate/train_features_distances_shifted.csv
      md5: 7103a2fa1d9b1285a9eb1c4c398209ee
      size: 4345156728
    outs:
    - path: results/submission_features_distances_shifted_ml_rf_paramset_default.npy
      md5: 9f6e131e88c23fea09a77d323a53dae4
      size: 253251625
  ml_gridsearchcv_distances_shifted:
    cmd: python3 2_machine_learning_gridsearch_cv.py features_distances_shifted
    deps:
    - path: 2_machine_learning_gridsearch_cv.py
      md5: 3f1337c27714b6153f8ec8f3a7f27087
      size: 8990
    - path: data/intermediate/test_features_distances_shifted.csv
      md5: bf7741bda474d11f5bc79392b2be9383
      size: 69918695064
    - path: data/intermediate/test_map_features_distances_shifted.pkl
      md5: 6849d23f902759e0849c3da0dee42b8b
      size: 7088
    - path: data/intermediate/train_features_distances_shifted.csv
      md5: 7103a2fa1d9b1285a9eb1c4c398209ee
      size: 4345156728
    outs:
    - path: results/submission_features_distances_shifted_ml_gridsearch_cv_paramset_default.npy
      md5: 9c101326345f6db00ccb23f3be4b62b2
      size: 253251625
    - path: results/summary_gridsearch_cv.json
      md5: 614571259ecaf9691bd00533b4c062c1
      size: 284
  dl_baseline:
    cmd: python3 3_deep_learning.py baseline
    deps:
    - path: 3_deep_learning.py
      md5: 94bded7b21badfcc4360e9277fd3b36f
      size: 22450
    - path: data/sample_submission.npy
      md5: 0fe3669701a51450c87275434b38a2c0
      size: 65383277
    - path: data/test.npy
      md5: 327eaa617dab4c55ebb6913e5e24ec77
      size: 1829787014
    - path: data/train.npy
      md5: eb2960c30eeed9658149fd7eb990074e
      size: 117806206
    params:
      dl_baseline_settings.json:
        epochs: 15
    outs:
    - path: results/submission_dl_baseline_paramset_default.npy
      md5: 0850c4cd198a7bb015e7ceedbfa20acf
      size: 32709313
    - path: results/summary_dl_baseline_paramset_default.json
      md5: 92ecf8ce3bac998488476803f6692376
      size: 90
  dl_lstm:
    cmd: python3 3_deep_learning.py lstm
    deps:
    - path: 3_deep_learning.py
      md5: de4c9b1f9b0a31de1c55dd20ba7e2632
      size: 17453
    - path: data/sample_submission.npy
      md5: 0fe3669701a51450c87275434b38a2c0
      size: 65383277
    - path: data/test.npy
      md5: 327eaa617dab4c55ebb6913e5e24ec77
      size: 1829787014
    - path: data/train.npy
      md5: eb2960c30eeed9658149fd7eb990074e
      size: 117806206
    params:
      dl_lstm_settings.json:
        epochs: 20
    outs:
    - path: results/submission_dl_lstm_paramset_default.npy
      md5: 49e536f89fe58a5abb0d6ca3a2e6b78b
      size: 32709313
    - path: results/summary_dl_lstm_paramset_default.json
      md5: 259188e25d156c7e8e990391cb4ae229
      size: 90
